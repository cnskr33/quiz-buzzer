<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Quizshow â€“ Spiel</title>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyCob25y3pT7O6wjf21l9xiaCXhGMFLzFQg",
  authDomain: "testprojekt-dada3.firebaseapp.com",
  databaseURL: "https://testprojekt-dada3-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "testprojekt-dada3",
  storageBucket: "testprojekt-dada3.firebasestorage.app",
  messagingSenderId: "651866459764",
  appId: "1:651866459764:web:ed23cf3fd5ccf02a42cb21"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
</script>

<style>
body{margin:0;font-family:Arial;background:#0b1020;color:#e9eefc}

/* BUZZER BAR */
.buzzerBar{
  background:#111a33;
  padding:12px;
  display:flex;
  gap:15px;
  align-items:center;
  justify-content:center;
  border-bottom:2px solid #2a3a66;
  flex-wrap:wrap;
}

.buzzerBtn{
  background:red;
  color:white;
  font-size:20px;
  padding:10px 20px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

.resetBtn{
  background:#333;
  color:white;
  border:none;
  padding:10px 15px;
  border-radius:10px;
  cursor:pointer;
}

.winner{
  font-weight:bold;
  font-size:18px;
}

/* SPIELBEREICH */
.app{
  display:grid;
  grid-template-rows: 1fr auto;
  gap:16px;
  padding:16px;
  height:calc(100vh - 70px);
  box-sizing:border-box;
}

.card{
  background: rgba(255,255,255,0.06);
  border-radius: 16px;
  padding: 16px;
  overflow: auto;
}

.pool{
  display:grid;
  grid-template-columns: repeat(6, minmax(120px, 1fr));
  gap: 10px;
}

.cardItem{
  border-radius: 16px;
  background: rgba(0,0,0,0.3);
  padding: 10px;
  text-align:center;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- BUZZER -->
<div class="buzzerBar">
  <button class="buzzerBtn" onclick="buzz()">ðŸ”´ BUZZER</button>
  <button class="resetBtn" onclick="resetBuzz()">Reset</button>
  <span id="winner" class="winner"></span>
</div>

<!-- SPIEL -->
<div class="app">

  <div class="card">
    <h2>Runde 1: Top 15 FuÃŸballer (Marktwert)</h2>
    <p>Klick auf eine Karte (nur Demo-Version hier eingebaut)</p>

    <div class="pool" id="pool"></div>
  </div>

</div>

<script>
/* ========= NAME LADEN ========= */
const myName = localStorage.getItem("quiz_name");
if(!myName){
  alert("Kein Name gefunden. ZurÃ¼ck zum Login.");
  window.location.href = "index.html";
}

/* ========= BUZZER ========= */
async function buzz(){
  const buzzerRef = db.ref("buzzer");
  const snap = await buzzerRef.get();

  if(!snap.exists() || !snap.val()){
    buzzerRef.set(myName);
  }
}

function resetBuzz(){
  db.ref("buzzer").set("");
}

db.ref("buzzer").on("value", (snap)=>{
  const val = snap.val();
  document.getElementById("winner").textContent =
    val ? ("Gewinner: " + val) : "";
});

/* ========= DEIN SPIEL (hier gekÃ¼rzt als funktionierende Demo-Version) ========= */

const players = [
  "Lamine Yamal",
  "Kylian MbappÃ©",
  "Vinicius Junior",
  "Erling Haaland",
  "Jude Bellingham",
  "Florian Wirtz"
];

const pool = document.getElementById("pool");

players.forEach(name=>{
  const div = document.createElement("div");
  div.className = "cardItem";
  div.textContent = name;

  div.onclick = () => {
    alert(name + " gewÃ¤hlt!");
  };

  pool.appendChild(div);
});
</script>

</body>
</html>
